<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function takes as input a seurat object and the location of a souporcell file (clusters.tsv).  The function will add
an assay to the seurat object such that the reduced dimensions of said assay are the principal components of the log of the cluster probabilities
returned by souporcell in the clusters.tsv file.  These cluster probabalities are normalized by the mean before log transformation and PCA.
The souporcell 'assignment' is added to the seurat metadata using the meta_data_label argument.  Name of the dimensionality reduction can be set
using the rd_label argument, accompanying key is set with the key argument and the assay name is set using assay_name.  Use of the rename_assignments
parameter will set the genotype numbering to 1-indexed (instead of the 0-indexed souporcell output) and will collapse all genotype
multiplet designations (0/1, 1/0, 0/2, 2/0, etc) to &quot;multiplet&quot;.  This feature is turned off by setting rename_assignments to F."><title>Add souporcell clustering file output to a seurat object — add_souporcell_seurat • viewmastR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Add souporcell clustering file output to a seurat object — add_souporcell_seurat"><meta property="og:description" content="This function takes as input a seurat object and the location of a souporcell file (clusters.tsv).  The function will add
an assay to the seurat object such that the reduced dimensions of said assay are the principal components of the log of the cluster probabilities
returned by souporcell in the clusters.tsv file.  These cluster probabalities are normalized by the mean before log transformation and PCA.
The souporcell 'assignment' is added to the seurat metadata using the meta_data_label argument.  Name of the dimensionality reduction can be set
using the rd_label argument, accompanying key is set with the key argument and the assay name is set using assay_name.  Use of the rename_assignments
parameter will set the genotype numbering to 1-indexed (instead of the 0-indexed souporcell output) and will collapse all genotype
multiplet designations (0/1, 1/0, 0/2, 2/0, etc) to &quot;multiplet&quot;.  This feature is turned off by setting rename_assignments to F."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">viewmastR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Get Started</h6>
    <a class="dropdown-item" href="../articles/HowTo.html">How to use viewmastR</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Advanced</h6>
    <a class="dropdown-item" href="../articles/Augment.html">How to augment data using viewmastR</a>
    <a class="dropdown-item" href="../articles/BulkReference.html">How to use a bulk dataset as a reference for viewmastR</a>
    <a class="dropdown-item" href="../articles/SavedModel.html">How to use viewmastR with saved models</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="http://twitter.com/scottfurlan" aria-label="Twitter">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/furlan-lab/viewmastR" aria-label="GitHub">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Add souporcell clustering file output to a seurat object</h1>
      
      <div class="d-none name"><code>add_souporcell_seurat.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function takes as input a seurat object and the location of a souporcell file (clusters.tsv).  The function will add
an assay to the seurat object such that the reduced dimensions of said assay are the principal components of the log of the cluster probabilities
returned by souporcell in the clusters.tsv file.  These cluster probabalities are normalized by the mean before log transformation and PCA.
The souporcell 'assignment' is added to the seurat metadata using the meta_data_label argument.  Name of the dimensionality reduction can be set
using the rd_label argument, accompanying key is set with the key argument and the assay name is set using assay_name.  Use of the rename_assignments
parameter will set the genotype numbering to 1-indexed (instead of the 0-indexed souporcell output) and will collapse all genotype
multiplet designations (0/1, 1/0, 0/2, 2/0, etc) to "multiplet".  This feature is turned off by setting rename_assignments to F.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">add_souporcell_seurat</span><span class="op">(</span></span>
<span>  <span class="va">obj</span>,</span>
<span>  <span class="va">souporcell_file</span>,</span>
<span>  prefix <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  assay_name <span class="op">=</span> <span class="st">"GENO"</span>,</span>
<span>  key <span class="op">=</span> <span class="st">"gpca_"</span>,</span>
<span>  meta_data_label <span class="op">=</span> <span class="st">"geno"</span>,</span>
<span>  rd_label <span class="op">=</span> <span class="st">"gpca"</span>,</span>
<span>  rename_assignments <span class="op">=</span> <span class="cn">T</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>obj</dt>
<dd><p>input Seurat object</p></dd>


<dt>souporcell_file</dt>
<dd><p>location of souporcell clusters.tsv file</p></dd>


<dt>prefix</dt>
<dd><p>optional prefix to prepend cell barcodes</p></dd>


<dt>assay_name</dt>
<dd><p>name of assay object</p></dd>


<dt>key</dt>
<dd><p>name of key to use</p></dd>


<dt>meta_data_label</dt>
<dd><p>name of the column in the returned meta data to place the souporcell assignment.  Does not check for overwriting</p></dd>


<dt>rd_label</dt>
<dd><p>name of the dimensionality reduction</p></dd>


<dt>rename_assignment</dt>
<dd><p>rename souporcell assignment as discussed in the description</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>a seurat object with a reduced dimension assay containing the SNP clusters as generated by souporcell but modified as discussed above.
A column is added to the meta data as designated by the meta_data_label argument with the genotype assignment generated by souporcell</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://furlan-lab.github.io" class="external-link">Scott Furlan</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

